(this["webpackJsonpmetabox-generator"]=this["webpackJsonpmetabox-generator"]||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},453:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){},461:function(e,t,n){},462:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(20),i=n.n(s),o=function(e){e&&e instanceof Function&&n.e(155).then(n.bind(null,510)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},l=(n(149),n(150),n(0)),r=function(){return Object(l.jsxs)("div",{className:"admin-menu",children:[Object(l.jsx)("strong",{children:"JT's Meta Box Generator"}),Object(l.jsx)("p",{children:"Thank you for using my stuffs!"})]})},d=(n(152),n(3)),j=n(12),b=n(4),u=(n(153),function(e){var t=Object(c.useState)(!0),n=Object(j.a)(t,2),a=n[0],s=n[1],i=e.sticky?"sticky":"";return Object(l.jsxs)("div",{className:"meta-box ".concat(i),children:[Object(l.jsxs)("div",{className:"meta-box-header",onClick:function(){return s(!a)},children:[Object(l.jsx)("strong",{children:"Default Meta Box"}),a?Object(l.jsx)(b.b,{color:"787c82"}):Object(l.jsx)(b.a,{color:"787c82"})]}),a&&Object(l.jsx)("div",{className:"meta-box-body",children:e.customContent?Object(d.a)({},e.customContent):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"This is a default box for visual representation"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content small"}),Object(l.jsx)("div",{className:"blank-content large"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content small"})]})})]})}),x=(n(154),n(155),n(47)),m=n(37),O={metaBoxGlobalOptions:{id:"jt-custom-meta-box-id",title:"Custom Meta Box",screens:[],textDomain:"jt-mbg-text-domain",context:"advanced",priority:"default",className:"JT_MBG_CLASS"},fields:[]},h=Object(c.createContext)(O),p=h.Provider,v=function(e){var t=e.children,n=Object(c.useReducer)((function(e,t){switch(t.type){case"action description":return Object(d.a)({},e);case"add new field":return Object(d.a)(Object(d.a)({},e),{},{fields:[].concat(Object(m.a)(e.fields),[t.value])});case"update meta box option":return Object(d.a)(Object(d.a)({},e),{},{metaBoxGlobalOptions:Object(d.a)(Object(d.a)({},e.metaBoxGlobalOptions),{},Object(x.a)({},t.value.optionName,t.value.value))});case"update field option":var n=e.fields;return n[t.value.indx]=Object(d.a)(Object(d.a)({},n[t.value.indx]),{},Object(x.a)({},t.value.optionName,t.value.value)),Object(d.a)(Object(d.a)({},e),{},{fields:n});case"update screens":var c=e.metaBoxGlobalOptions.screens;return c=c.includes(t.value)?c.filter((function(e){return e!==t.value})):[].concat(Object(m.a)(c),[t.value]),Object(d.a)(Object(d.a)({},e),{},{metaBoxGlobalOptions:Object(d.a)(Object(d.a)({},e.metaBoxGlobalOptions),{},{screens:c})});case"delete field":var a=e.fields;return a=a.filter((function(e,n){return n!==t.value})),Object(d.a)(Object(d.a)({},e),{},{fields:a});default:throw new Error}}),O),a=Object(j.a)(n,2),s=a[0],i=a[1];return Object(l.jsx)(p,{value:{state:s,dispatch:i},children:t})},f=(n(156),function(e){var t=e.field,n=e.isEditting,a=e.indx,s=Object(c.useContext)(h).dispatch,i=[{label:"Field Id",value:t.id,optionName:"id"},{label:"Field Label",value:t.label,optionName:"label"}],o=[{label:"Placeholder",value:t.placeholder,optionName:"placeholder"}],r=[{label:"Max value",value:t.max,optionName:"max",type:"number"},{label:"Min value",value:t.min,optionName:"min",type:"number"},{label:"Step",value:t.step,optionName:"step",type:"number"}],j=function(){return function(){var e=[].concat(i);switch(t.type){case"text":e=[].concat(Object(m.a)(e),o);break;case"number":e=[].concat(Object(m.a)(e),r)}return e}().map((function(e){return Object(l.jsxs)("div",{className:"field-option-container",children:[Object(l.jsx)("label",{children:e.label}),Object(l.jsx)("input",{type:e.type||"text",value:e.value,onChange:function(t){return b(t,e.optionName)}})]})}))},b=function(e,t){var n=e.currentTarget.value;"id"===t&&(n=(n=n.replace(/[- ]/gi,"_")).replace(/[^a-z0-9_]/gi,"")),s({type:"update field option",value:{indx:a,value:n,optionName:t}})};return Object(l.jsxs)("div",{className:"custom-field",children:[Object(l.jsxs)("div",{className:"field-preview",children:[Object(l.jsx)("label",{htmlFor:t.id,children:t.label}),Object(l.jsx)("input",Object(d.a)({},t))]}),n?Object(l.jsxs)("div",{className:"field-options",children:[Object(l.jsx)("h4",{children:"Field Options"}),j()]}):void 0]})}),_=function(e){var t=e.field,n=e.indx,a=Object(c.useContext)(h).dispatch,s=Object(c.useState)(!1),i=Object(j.a)(s,2),o=i[0],r=i[1],u={indx:n,field:t,isEditting:o};return Object(l.jsxs)("div",{className:"custom-field-container ".concat(o?"editting":""),children:[function(e){switch(t.type){case"tel":case"url":case"text":case"email":case"color":case"number":case"hidden":case"password":return Object(l.jsx)(f,Object(d.a)({},e))}}(u),o&&Object(l.jsxs)("button",{className:"button edit-field",onClick:function(){a({type:"delete field",value:n})},children:[Object(l.jsx)(b.f,{})," Delete"]}),Object(l.jsxs)("button",{className:"button edit-field",onClick:function(){r(!o)},children:[o?Object(l.jsx)(b.b,{}):Object(l.jsx)(b.a,{})," Edit"]})]})},N=(n(453),function(e){var t=Object(c.useRef)(),n=Object(c.useState)(!1),a=Object(j.a)(n,2),s=a[0],i=a[1];Object(c.useEffect)((function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}}),[]);var o=function(e){t&&t.current&&!t.current.contains(e.target)&&i(!1)};return Object(l.jsxs)("div",{className:"dropdown-container",children:[Object(l.jsx)("button",{className:"".concat(e.primary&&"primary"," button dropdown-button"),onClick:function(){i(!s)},children:e.buttonText||"Open"}),s&&Object(l.jsx)("div",{onClick:function(){return i(!1)},ref:t,className:"dropdown-children",children:e.children})]})}),g=(n(454),function(e){return Object(l.jsxs)("div",{className:"tag",children:[Object(l.jsx)("span",{children:e.name}),Object(l.jsx)("button",{onClick:e.onClose,children:Object(l.jsx)(b.e,{})})]})}),y=function(e){var t=e.title,n=e.handleOnChange;return Object(l.jsxs)("div",{className:"checkbox-container",children:[Object(l.jsx)("span",{children:t}),Object(l.jsx)("input",{type:"checkbox",onChange:function(e){return n(e.target.checked,e)}})]})},k=(n(455),function(e){var t=e.name,n=e.value,c=e.options,a=e.handleOnChange,s=function(e){var t=e.target,n=(t.name,t.value);a(e,n)};if(c.length)return Object(l.jsx)("div",{className:"radio-buttons-container",children:c.map((function(e,c){return Object(l.jsxs)("label",{htmlFor:"".concat(e,"_").concat(c),className:"radioInput",children:[Object(l.jsx)("input",{id:"".concat(e,"_").concat(c),defaultChecked:0===c,checked:n===e,type:"radio",name:t,value:e,onChange:s})," ",e]},c)}))})}),C=function(e){var t=Object(c.useContext)(h),n=t.state,a=t.dispatch,s=n.metaBoxGlobalOptions,i=Object(c.useState)(""),o=Object(j.a)(i,2),r=o[0],d=o[1],u=function(e,t){var n=e.currentTarget.value;a({type:"update meta box option",value:{value:n,optionName:t}})},x=function(e,t){""!==t&&t&&a({type:"update screens",value:t})};return Object(l.jsxs)("div",{className:"meta-box item edit-meta-box-screen",children:[Object(l.jsxs)("div",{className:"meta-box-header",children:[Object(l.jsxs)("strong",{children:["Settings - ",s.title]}),Object(l.jsx)("div",{className:"meta-box-actions",children:Object(l.jsxs)("button",{onClick:function(t){e.setMetaBoxView("fields")},className:"button edit-meta-done",children:["Fields ",Object(l.jsx)(b.d,{})]})})]}),Object(l.jsx)("div",{className:"meta-box-body",children:Object(l.jsxs)("div",{className:"meta-box-options-container",children:[Object(l.jsx)("p",{children:"General"}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Meta Box Title",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(string) (Required) Title of the meta box."})})]}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{placeholder:s.title,value:s.title,onChange:function(e){return u(e,"title")}})})]})}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Meta Box ID",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(string) (Required) Meta box ID (used in the 'id' attribute for the meta box)."})})]}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{placeholder:s.id,value:s.id,onChange:function(e){return u(e,"id")}})})]})}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Screens",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(Optional) The screen or screens on which to show the box (such as a post type, 'link', or 'comment')"})})]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"screen-post-types",children:[Object(l.jsx)(y,{title:"post",handleOnChange:function(e){x(0,"post")}}),Object(l.jsx)(y,{title:"page",handleOnChange:function(e){x(0,"page")}})]}),Object(l.jsx)("div",{className:"screen-post-types",children:s.screens.filter((function(e){return"post"!==e&&"page"!==e})).map((function(e,t){return Object(l.jsx)(g,{name:e,onClose:function(){return x(0,e)}},t)}))})]})]})}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Custom Screens",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"Custom post types (such as 'movie', 'custom_post_type')"})})]}),Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&(x(0,r),d(""))},placeholder:"custom",value:r,onChange:function(e){return d(e.currentTarget.value)}}),Object(l.jsxs)("button",{className:"button",onClick:function(e){x(0,r),d("")},children:[Object(l.jsx)(b.g,{})," Add"]})]})]})}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Context",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(Optional) The context within the screen where the box should display. Available contexts vary from screen to screen. Post edit screen contexts include 'normal', 'side', and 'advanced'."})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(k,{name:"context",value:s.context,options:["advanced","side","normal"],handleOnChange:function(e){return u(e,"context")}})})]})}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Priority",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(Optional) The priority within the context where the box should show. Accepts 'high', 'core', 'default', or 'low'."})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(k,{name:"priority",value:s.priority,options:["high","core","default","low"],handleOnChange:function(e){return u(e,"priority")}})})]})}),Object(l.jsx)("p",{children:"Advanced"}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Text Domain",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(Optional) text domain for translations"})})]}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{placeholder:s.textDomain,value:s.textDomain,onChange:function(e){return u(e,"textDomain")}})})]})}),Object(l.jsx)("div",{className:"meta-box-option",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Class Name",Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"(Optional) The php class name that will be given for your code"})})]}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{placeholder:s.className,value:s.className,onChange:function(e){return u(e,"className")}})})]})})]})}),Object(l.jsx)("div",{className:"meta-box-footer",children:Object(l.jsxs)("button",{onClick:function(t){e.setMetaBoxView("fields")},className:"button primary",children:["Fields ",Object(l.jsx)(b.d,{})]})})]})},w=n(87),T=function(e){var t=Object(c.useContext)(h),n=t.state,a=(t.dispatch,n.metaBoxGlobalOptions),s=n.fields;return Object(l.jsxs)("div",{className:"meta-box generate-meta-box-screen",children:[Object(l.jsxs)("div",{className:"meta-box-header",children:[Object(l.jsxs)("strong",{children:["Fields - ",a.title]}),Object(l.jsx)("div",{className:"meta-box-actions",children:Object(l.jsxs)("button",{onClick:function(t){e.setMetaBoxView("fields")},className:"button edit-meta-done",children:[Object(l.jsx)(b.c,{})," Fields"]})})]}),Object(l.jsx)("div",{className:"meta-box-body",children:Object(l.jsx)(w.a,{text:function(){var e="<?php\n\n/**\n * Generated by the WordPress Meta Box Generator By John Tendik\n * https://johntendik.com/tools/wordpress-meta-box-generator/\n * \n * Retrieving the values:\n * test = get_post_meta( get_the_ID(), 'name_of_field', true )\n */\n\nclass JT_Metabox_Generator {\n  public function __construct() {\n\t\tadd_action( 'add_meta_boxes', array( $this, 'add_meta_boxes' ) );\n\t\tadd_action( 'save_post', array( $this, 'save_post' ), 10, 2 );\n\t}\n\n  public function add_meta_boxes() {\n    add_meta_box(\n      '@@metabox-id@@',\n      __('@@metabox-title@@', '@@text-domain@@'),\n      array( $this, 'add_meta_box_callback' ),\n      array(@@screens@@),\n      '@@context@@',\n      '@@priority@@'\n    );\n\t}\n\n  public function save_post($post_id, $post) {\n    /* Verify the nonce before proceeding. */\n    if ( !isset( $_POST['jt_metabox_nonce'] ) || !wp_verify_nonce( $_POST['jt_metabox_nonce'], basename( __FILE__ ) ) )\n      return $post_id;\n\n    /* Get the post type object. */\n    $post_type = get_post_type_object( $post->post_type );\n  \n    /* Check if the current user has permission to edit the post. */\n    if ( !current_user_can( $post_type->cap->edit_post, $post_id ) )\n      return $post_id;\n\n    /* Get the meta key. */\n    $meta_key_prefix = 'jt_mbg_';\n\n\n    /* DO NOT FORGET TO DO YOUR OWN SANITIZATION HERE!! */\n\n    @@save_post@@\n  }\n\n  public function add_meta_box_callback() {\n    echo \"<style>div.jt-meta-box-flex{display:flex;align-items:flex-start;margin: 14px 0;}div.jt-meta-box-flex label{width: 190px;margin: 0}</style>\";\n\n    wp_nonce_field( basename( __FILE__ ), 'jt_metabox_nonce' );\n    @@fields@@\n  }\n\n  private function get_value($id) {\n    global $post;\n    $meta_key_prefix = 'jt_mbg_';\n\t\tif ( metadata_exists( 'post', $post->ID, $meta_key_prefix . $id ) ) {\n\t\t\t$value = get_post_meta( $post->ID, $meta_key_prefix . $id, true );\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t\treturn $value;\n  }\n}\n\nnew JT_Metabox_Generator;\n\n?>";if(e=(e=(e=(e=(e=e.replace("@@metabox-id@@",a.id)).replace("@@metabox-title@@",a.title)).replace("@@text-domain@@",a.textDomain)).replace("@@context@@",a.context)).replace("@@priority@@",a.priority),a.screens.length){var t=a.screens.map((function(e){return"'".concat(e,"'")}));e=e.replace("@@screens@@",t.join(","))}else e=e.replace("@@screens@@","");if(s.length){var n=s.map((function(e){return"\n          $".concat(e.id,"_value = $this->get_value('").concat(e.id,"');\n          echo \"<div class='jt-meta-box-flex'><label for='").concat(e.id,"'>").concat(e.label,"</label><input id='").concat(e.id,"' name='").concat(e.id,"' value='$").concat(e.id,"_value' type='").concat(e.type,"' placeholder='").concat(e.placeholder,"' /></div>\";\n        ")}));e=e.replace("@@fields@@",n.join("\n\r"));var c=s.map((function(e){return"$".concat(e.id,"_new_val = ( isset( $_POST['").concat(e.id,"'] ) ? sanitize_html_class( $_POST['").concat(e.id,"'] ) : null );\n      if ($").concat(e.id,'_new_val !== null) {\n        update_post_meta( $post_id, $meta_key_prefix . "').concat(e.id,'", $').concat(e.id,"_new_val );\n      }")}));e=e.replace("@@save_post@@",c.join("\n\r"))}else e=e.replace("@@fields@@","");return e}(),useScroll:!0,customStyle:{maxHeight:"600px",overflow:"scroll"},showLineNumbers:!0,language:"php",theme:w.b,codeBlock:!0})})]})},$=function(){var e=Object(c.useContext)(h),t=e.state,n=e.dispatch,a=t.metaBoxGlobalOptions,s=t.fields,i=Object(c.useState)("settings"),o=Object(j.a)(i,2),r=o[0],d=o[1],u=function(e){n({type:"add new field",value:{id:"new_field_id_".concat(s.length),type:e,label:"New field"}})};return Object(l.jsxs)("div",{children:["settings"===r&&Object(l.jsx)(C,{setMetaBoxView:d}),"fields"===r&&Object(l.jsxs)("div",{className:"meta-box",children:[Object(l.jsxs)("div",{className:"meta-box-header",children:[Object(l.jsxs)("strong",{children:["Fields - ",a.title]}),Object(l.jsxs)("div",{className:"meta-box-actions",children:[Object(l.jsxs)("button",{onClick:function(e){d("settings")},className:"button edit-meta-done",children:[Object(l.jsx)(b.c,{})," Settings"]}),Object(l.jsxs)("button",{onClick:function(e){d("code")},className:"button edit-meta-done",children:["Code ",Object(l.jsx)(b.d,{})]})]})]}),Object(l.jsx)("div",{className:"meta-box-body",children:s.length?s.map((function(e,t){return Object(l.jsx)(_,{field:e,indx:t},t)})):Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Begin by adding a new field to your meta-box!"})})}),Object(l.jsx)("div",{className:"meta-box-footer",children:Object(l.jsxs)(N,{primary:!0,buttonText:Object(l.jsxs)(l.Fragment,{children:["Add New Field ",Object(l.jsx)(b.g,{})]}),children:[Object(l.jsx)("button",{onClick:function(){return u("text")},children:"Text"}),Object(l.jsx)("button",{onClick:function(){return u("number")},children:"Number"}),Object(l.jsx)("button",{onClick:function(){return u("tel")},children:"Tel"}),Object(l.jsx)("button",{onClick:function(){return u("url")},children:"Url"}),Object(l.jsx)("button",{onClick:function(){return u("password")},children:"Password"}),Object(l.jsx)("button",{onClick:function(){return u("email")},children:"Email"}),Object(l.jsx)("button",{onClick:function(){return u("hidden")},children:"Hidden"}),Object(l.jsx)("button",{onClick:function(){return u("color")},children:"Color"})]})})]}),"code"===r&&Object(l.jsx)(T,{setMetaBoxView:d})]})},B=function(){return Object(l.jsxs)("section",{className:"layout-container",children:[Object(l.jsxs)("div",{className:"main dropzone",children:[Object(l.jsx)("input",{className:"post-title",defaultValue:"WordPress Post Title"}),Object(l.jsx)(u,{customContent:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"This is a default box for visual representation. Scroll down to setup your custom meta box!"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content small"}),Object(l.jsx)("div",{className:"blank-content large"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content small"})]})}),Object(l.jsx)("div",{className:"item",children:Object(l.jsx)($,{})})]}),Object(l.jsxs)("div",{className:"side dropzone",children:[Object(l.jsx)(u,{customContent:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"This is a default box for visual representation"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content"}),Object(l.jsx)("div",{className:"blank-content small"})]})}),Object(l.jsx)(u,{customContent:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Once you are happy with your meta box, click the generate button below to get your code for free!"}),Object(l.jsx)("button",{className:"button primary",children:"Generate"})]})})]})]})};n(461);var F=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(r,{}),Object(l.jsx)(B,{})]})};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(v,{children:Object(l.jsx)(F,{})})}),document.getElementById("root")),o()}},[[462,152,153]]]);
//# sourceMappingURL=main.eb461231.chunk.js.map