(this["webpackJsonpmetabox-generator"]=this["webpackJsonpmetabox-generator"]||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){},460:function(e,t,n){},461:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(20),s=n.n(i),l=function(e){e&&e instanceof Function&&n.e(155).then(n.bind(null,509)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))},o=(n(149),n(150),n(0)),r=function(){return Object(o.jsxs)("div",{className:"admin-menu",children:[Object(o.jsx)("strong",{children:"JT's Meta Box Generator"}),Object(o.jsx)("p",{children:"Thank you for using my stuffs!"})]})},d=n(12),j=(n(152),n(3)),b=n(8),u=(n(153),function(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),a=n[0],i=n[1],s=e.sticky?"sticky":"";return Object(o.jsxs)("div",{className:"meta-box ".concat(s),children:[Object(o.jsxs)("div",{className:"meta-box-header",onClick:function(){return i(!a)},children:[Object(o.jsx)("strong",{children:e.title?e.title:"Default Meta Box"}),a?Object(o.jsx)(b.b,{color:"787c82"}):Object(o.jsx)(b.a,{color:"787c82"})]}),a&&Object(o.jsx)("div",{className:"meta-box-body",children:e.customContent?Object(j.a)({},e.customContent):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{children:"This is a default box for visual representation"}),Object(o.jsx)("div",{className:"blank-content"}),Object(o.jsx)("div",{className:"blank-content"}),Object(o.jsx)("div",{className:"blank-content small"}),Object(o.jsx)("div",{className:"blank-content large"}),Object(o.jsx)("div",{className:"blank-content"}),Object(o.jsx)("div",{className:"blank-content small"})]})})]})}),x=(n(154),n(155),n(48)),p=n(37),h={metaBoxGlobalOptions:{id:"jt-custom-meta-box-id",title:"Custom Meta Box",screens:[],textDomain:"jt-mbg-text-domain",context:"advanced",priority:"default",className:"JT_MBG_CLASS"},fields:[]},m=Object(c.createContext)(h),O=m.Provider,v=function(e){var t=e.children,n=Object(c.useReducer)((function(e,t){switch(t.type){case"action description":return Object(j.a)({},e);case"add new field":return Object(j.a)(Object(j.a)({},e),{},{fields:[].concat(Object(p.a)(e.fields),[t.value])});case"update meta box option":return Object(j.a)(Object(j.a)({},e),{},{metaBoxGlobalOptions:Object(j.a)(Object(j.a)({},e.metaBoxGlobalOptions),{},Object(x.a)({},t.value.optionName,t.value.value))});case"update field option":var n=e.fields;return n[t.value.indx]=Object(j.a)(Object(j.a)({},n[t.value.indx]),{},Object(x.a)({},t.value.optionName,t.value.value)),Object(j.a)(Object(j.a)({},e),{},{fields:n});case"update screens":var c=e.metaBoxGlobalOptions.screens;return c=c.includes(t.value)?c.filter((function(e){return e!==t.value})):[].concat(Object(p.a)(c),[t.value]),Object(j.a)(Object(j.a)({},e),{},{metaBoxGlobalOptions:Object(j.a)(Object(j.a)({},e.metaBoxGlobalOptions),{},{screens:c})});case"delete field":var a=e.fields;return a=a.filter((function(e,n){return n!==t.value})),Object(j.a)(Object(j.a)({},e),{},{fields:a});default:throw new Error}}),h),a=Object(d.a)(n,2),i=a[0],s=a[1];return Object(o.jsx)(O,{value:{state:i,dispatch:s},children:t})},f=(n(156),function(e){var t=e.field,n=e.isEditting,a=e.indx,i=Object(c.useContext)(m).dispatch,s=[{label:"Field Id",value:t.id,optionName:"id"},{label:"Field Label",value:t.label,optionName:"label"}],l=[{label:"Placeholder",value:t.placeholder,optionName:"placeholder"}],r=[{label:"Max value",value:t.max,optionName:"max",type:"number"},{label:"Min value",value:t.min,optionName:"min",type:"number"},{label:"Step",value:t.step,optionName:"step",type:"number"}],d=function(){return function(){var e=[].concat(s);switch(t.type){case"text":e=[].concat(Object(p.a)(e),l);break;case"number":e=[].concat(Object(p.a)(e),r)}return e}().map((function(e){return Object(o.jsxs)("div",{className:"field-option-container",children:[Object(o.jsx)("label",{children:e.label}),Object(o.jsx)("input",{type:e.type||"text",value:e.value,onChange:function(t){return b(t,e.optionName)}})]})}))},b=function(e,t){var n=e.currentTarget.value;"id"===t&&(n=(n=n.replace(/[- ]/gi,"_")).replace(/[^a-z0-9_]/gi,"")),i({type:"update field option",value:{indx:a,value:n,optionName:t}})};return Object(o.jsxs)("div",{className:"custom-field",children:[Object(o.jsxs)("div",{className:"field-preview",children:[Object(o.jsx)("label",{htmlFor:t.id,children:t.label}),Object(o.jsx)("input",Object(j.a)({},t))]}),n?Object(o.jsxs)("div",{className:"field-options",children:[Object(o.jsx)("h4",{children:"Field Options"}),d()]}):void 0]})}),_=function(e){var t=e.field,n=e.isEditting,a=e.indx,i=Object(c.useContext)(m).dispatch,s=[{label:"Field Id",value:t.id,optionName:"id"},{label:"Text",value:t.text,optionName:"text"}],l=function(e,t){var n=e.currentTarget.value;"id"===t&&(n=(n=n.replace(/[- ]/gi,"_")).replace(/[^a-z0-9_]/gi,"")),i({type:"update field option",value:{indx:a,value:n,optionName:t}})};return Object(o.jsxs)("div",{className:"custom-field",children:[Object(o.jsx)("div",{className:"field-preview",children:Object(o.jsx)("span",{id:t.id,children:t.text||"Add some descriptive text here"})}),n?Object(o.jsxs)("div",{className:"field-options",children:[Object(o.jsx)("h4",{children:"Field Options"}),s.map((function(e){return"text"===e.optionName?Object(o.jsxs)("div",{className:"field-option-container",children:[Object(o.jsx)("label",{children:e.label}),Object(o.jsx)("textarea",{style:{resize:"none"},onChange:function(t){return l(t,e.optionName)},children:e.value})]}):Object(o.jsxs)("div",{className:"field-option-container",children:[Object(o.jsx)("label",{children:e.label}),Object(o.jsx)("input",{type:e.type||"text",value:e.value,onChange:function(t){return l(t,e.optionName)}})]})}))]}):void 0]})},g=function(e){var t=e.field,n=e.indx,a=Object(c.useContext)(m).dispatch,i=Object(c.useState)(!1),s=Object(d.a)(i,2),l=s[0],r=s[1],u={indx:n,field:t,isEditting:l};return Object(o.jsxs)("div",{className:"custom-field-container ".concat(l?"editting":""),children:[function(e){switch(t.type){case"tel":case"url":case"text":case"email":case"color":case"number":case"hidden":case"password":return Object(o.jsx)(f,Object(j.a)({},e));case"paragraph":return Object(o.jsx)(_,Object(j.a)({},e))}}(u),l&&Object(o.jsxs)("button",{className:"button edit-field",onClick:function(){a({type:"delete field",value:n})},children:[Object(o.jsx)(b.f,{})," Delete"]}),Object(o.jsxs)("button",{className:"button edit-field",onClick:function(){r(!l)},children:[l?Object(o.jsx)(b.b,{}):Object(o.jsx)(b.a,{})," Edit"]})]})},y=n(87),N=function(e){var t=Object(c.useContext)(m),n=t.state,a=(t.dispatch,n.metaBoxGlobalOptions),i=n.fields;return Object(o.jsxs)("div",{className:"meta-box generate-meta-box-screen",children:[Object(o.jsxs)("div",{className:"meta-box-header",children:[Object(o.jsx)("strong",{children:a.title}),Object(o.jsx)("div",{className:"meta-box-actions",children:Object(o.jsxs)("button",{onClick:function(t){e.setMetaBoxView("fields")},className:"button edit-meta-done",children:[Object(o.jsx)(b.c,{})," Fields"]})})]}),Object(o.jsx)("div",{className:"meta-box-body",children:Object(o.jsx)(y.a,{text:function(){var e="<?php\n\n/**\n * Generated by the WordPress Meta Box Generator By John Tendik\n * https://johntendik.com/tools/wordpress-meta-box-generator/\n * \n * Retrieving the values:\n * test = get_post_meta( get_the_ID(), 'name_of_field', true )\n */\n\nclass JT_Metabox_Generator {\n  public function __construct() {\n\t\tadd_action( 'add_meta_boxes', array( $this, 'add_meta_boxes' ) );\n\t\tadd_action( 'save_post', array( $this, 'save_post' ), 10, 2 );\n\t}\n\n  public function add_meta_boxes() {\n    add_meta_box(\n      '@@metabox-id@@',\n      __('@@metabox-title@@', '@@text-domain@@'),\n      array( $this, 'add_meta_box_callback' ),\n      array(@@screens@@),\n      '@@context@@',\n      '@@priority@@'\n    );\n\t}\n\n  public function save_post($post_id, $post) {\n    /* Verify the nonce before proceeding. */\n    if ( !isset( $_POST['jt_metabox_nonce'] ) || !wp_verify_nonce( $_POST['jt_metabox_nonce'], basename( __FILE__ ) ) )\n      return $post_id;\n\n    /* Get the post type object. */\n    $post_type = get_post_type_object( $post->post_type );\n  \n    /* Check if the current user has permission to edit the post. */\n    if ( !current_user_can( $post_type->cap->edit_post, $post_id ) )\n      return $post_id;\n\n    /* Get the meta key. */\n    $meta_key_prefix = 'jt_mbg_';\n\n\n    /* DO NOT FORGET TO DO YOUR OWN SANITIZATION HERE!! */\n\n    @@save_post@@\n  }\n\n  public function add_meta_box_callback() {\n    echo \"<style>div.jt-meta-box-flex{display:flex;align-items:flex-start;margin: 14px 0;}div.jt-meta-box-flex label{width: 190px;margin: 0}</style>\";\n\n    wp_nonce_field( basename( __FILE__ ), 'jt_metabox_nonce' );\n    @@fields@@\n  }\n\n  private function get_value($id) {\n    global $post;\n    $meta_key_prefix = 'jt_mbg_';\n\t\tif ( metadata_exists( 'post', $post->ID, $meta_key_prefix . $id ) ) {\n\t\t\t$value = get_post_meta( $post->ID, $meta_key_prefix . $id, true );\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t\treturn $value;\n  }\n}\n\nnew JT_Metabox_Generator;\n\n?>";if(e=(e=(e=(e=(e=e.replace("@@metabox-id@@",a.id)).replace("@@metabox-title@@",a.title)).replace("@@text-domain@@",a.textDomain)).replace("@@context@@",a.context)).replace("@@priority@@",a.priority),a.screens.length){var t=a.screens.map((function(e){return"'".concat(e,"'")}));e=e.replace("@@screens@@",t.join(","))}else e=e.replace("@@screens@@","");if(i.length){var n=i.map((function(e){if("color"===e.type)return"\n            $".concat(e.id,"_value = $this->get_value('").concat(e.id,"');\n            echo \"<div class='jt-meta-box-flex'><label for='").concat(e.id,"'>").concat(e.label,"</label><input id='").concat(e.id,"' name='").concat(e.id,"' value='#$").concat(e.id,"_value' type='").concat(e.type,"' /></div>\";\n          ");if("paragraph"===e.type)return"\n            $".concat(e.id,"_value = $this->get_value('").concat(e.id,"');\n            echo \"<div class='jt-meta-box-flex'><span id='").concat(e.id,"'>").concat(e.text,'</span></div>";\n          ');var t=e.placeholder?"placeholder='".concat(e.placeholder,"'"):"";return"\n            $".concat(e.id,"_value = $this->get_value('").concat(e.id,"');\n            echo \"<div class='jt-meta-box-flex'><label for='").concat(e.id,"'>").concat(e.label,"</label><input id='").concat(e.id,"' name='").concat(e.id,"' value='$").concat(e.id,"_value' type='").concat(e.type,"' ").concat(t,' /></div>";\n          ')}));e=e.replace("@@fields@@",n.join("\n\r"));var c=i.map((function(e){return"$".concat(e.id,"_new_val = ( isset( $_POST['").concat(e.id,"'] ) ? sanitize_html_class( $_POST['").concat(e.id,"'] ) : null );\n      if ($").concat(e.id,'_new_val !== null) {\n        update_post_meta( $post_id, $meta_key_prefix . "').concat(e.id,'", $').concat(e.id,"_new_val );\n      }")}));e=e.replace("@@save_post@@",c.join("\n\r"))}else e=e.replace("@@fields@@","");return e}(),useScroll:!0,customStyle:{maxHeight:"600px",overflow:"scroll"},showLineNumbers:!0,language:"php",theme:y.b,codeBlock:!0})})]})},C=function(){var e=Object(c.useContext)(m).state,t=e.metaBoxGlobalOptions,n=e.fields,a=Object(c.useState)("fields"),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(o.jsxs)("div",{children:["fields"===s&&Object(o.jsxs)("div",{className:"meta-box",children:[Object(o.jsxs)("div",{className:"meta-box-header",children:[Object(o.jsx)("strong",{children:t.title}),Object(o.jsx)("div",{className:"meta-box-actions",children:Object(o.jsxs)("button",{onClick:function(e){l("code")},className:"button edit-meta-done",children:["Code ",Object(o.jsx)(b.d,{})]})})]}),Object(o.jsx)("div",{className:"meta-box-body",children:n.length?n.map((function(e,t){return Object(o.jsx)(g,{field:e,indx:t},t)})):Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"Begin by adding a new field to your meta-box using the select + button in the side column!"})})})]}),"code"===s&&Object(o.jsx)(N,{setMetaBoxView:l})]})},w=(n(458),function(e){return Object(o.jsxs)("div",{className:"tag",children:[Object(o.jsx)("span",{children:e.name}),Object(o.jsx)("button",{onClick:e.onClose,children:Object(o.jsx)(b.e,{})})]})}),k=function(e){var t=e.title,n=e.handleOnChange;return Object(o.jsxs)("div",{className:"checkbox-container",children:[Object(o.jsx)("span",{children:t}),Object(o.jsx)("input",{type:"checkbox",onChange:function(e){return n(e.target.checked,e)}})]})},$=(n(459),function(e){var t=e.name,n=e.value,c=e.options,a=e.handleOnChange,i=function(e){var t=e.target,n=(t.name,t.value);a(e,n)};if(c.length)return Object(o.jsx)("div",{className:"radio-buttons-container",children:c.map((function(e,c){return Object(o.jsxs)("label",{htmlFor:"".concat(e,"_").concat(c),className:"radioInput",children:[Object(o.jsx)("input",{id:"".concat(e,"_").concat(c),defaultChecked:0===c,checked:n===e,type:"radio",name:t,value:e,onChange:i})," ",e]},c)}))})}),T=function(e){var t=Object(c.useContext)(m),n=t.state,a=t.dispatch,i=n.metaBoxGlobalOptions,s=Object(c.useState)(""),l=Object(d.a)(s,2),r=l[0],j=l[1],u=function(e,t){var n=e.currentTarget.value;a({type:"update meta box option",value:{value:n,optionName:t}})},x=function(e,t){""!==t&&t&&a({type:"update screens",value:t})};return Object(o.jsxs)("div",{className:"meta-box-options-container",children:[Object(o.jsx)("p",{children:"General"}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Meta Box Title",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(string) (Required) Title of the meta box."})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{placeholder:i.title,value:i.title,onChange:function(e){return u(e,"title")}})})]})}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Meta Box ID",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(string) (Required) Meta box ID (used in the 'id' attribute for the meta box)."})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{placeholder:i.id,value:i.id,onChange:function(e){return u(e,"id")}})})]})}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Screens",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(Optional) The screen or screens on which to show the box (such as a post type, 'link', or 'comment')"})})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"screen-post-types",children:[Object(o.jsx)(k,{title:"post",handleOnChange:function(e){x(0,"post")}}),Object(o.jsx)(k,{title:"page",handleOnChange:function(e){x(0,"page")}})]}),Object(o.jsx)("div",{className:"screen-post-types",children:i.screens.filter((function(e){return"post"!==e&&"page"!==e})).map((function(e,t){return Object(o.jsx)(w,{name:e,onClose:function(){return x(0,e)}},t)}))})]})]})}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Custom Screens",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"Custom post types (such as 'movie', 'custom_post_type')"})})]}),Object(o.jsxs)("div",{className:"flex",children:[Object(o.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&(x(0,r),j(""))},placeholder:"custom",value:r,onChange:function(e){return j(e.currentTarget.value)}}),Object(o.jsxs)("button",{className:"button",onClick:function(e){x(0,r),j("")},children:[Object(o.jsx)(b.g,{})," Add"]})]})]})}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Context",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(Optional) The context within the screen where the box should display. Available contexts vary from screen to screen. Post edit screen contexts include 'normal', 'side', and 'advanced'."})})]}),Object(o.jsx)("div",{children:Object(o.jsx)($,{name:"context",value:i.context,options:["advanced","side","normal"],handleOnChange:function(e){return u(e,"context")}})})]})}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Priority",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(Optional) The priority within the context where the box should show. Accepts 'high', 'core', 'default', or 'low'."})})]}),Object(o.jsx)("div",{children:Object(o.jsx)($,{name:"priority",value:i.priority,options:["high","core","default","low"],handleOnChange:function(e){return u(e,"priority")}})})]})}),Object(o.jsx)("p",{children:"Advanced"}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Text Domain",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(Optional) text domain for translations"})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{placeholder:i.textDomain,value:i.textDomain,onChange:function(e){return u(e,"textDomain")}})})]})}),Object(o.jsx)("div",{className:"meta-box-option",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Class Name",Object(o.jsx)("small",{children:Object(o.jsx)("em",{children:"(Optional) The php class name that will be given for your code"})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{placeholder:i.className,value:i.className,onChange:function(e){return u(e,"className")}})})]})})]})},B=function(){var e=Object(c.useContext)(m),t=e.state,n=e.dispatch,a=t.fields,i=Object(c.useState)("text"),s=Object(d.a)(i,2),l=s[0],r=s[1];return Object(o.jsxs)("section",{className:"layout-container",children:[Object(o.jsxs)("div",{className:"main dropzone",children:[Object(o.jsx)("input",{className:"post-title",defaultValue:"WordPress Post Title"}),Object(o.jsx)("div",{className:"item",children:Object(o.jsx)(C,{})}),Object(o.jsx)(u,{title:"Metabox Settings",customContent:Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(T,{})})})]}),Object(o.jsxs)("div",{className:"side dropzone",children:[Object(o.jsx)(u,{title:"Add new fields",customContent:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{children:"Add new fields to your meta box below!"}),Object(o.jsxs)("div",{className:"add-field-container",children:[Object(o.jsx)("label",{htmlFor:"fieldtype",children:"Field type:"}),Object(o.jsxs)("select",{id:"fieldtype",onChange:function(e){var t=e.target.value;r(t)},defaultValue:l,children:[Object(o.jsx)("option",{value:"text",children:"Text Input"}),Object(o.jsx)("option",{value:"number",children:"Number"}),Object(o.jsx)("option",{value:"tel",children:"Tel"}),Object(o.jsx)("option",{value:"email",children:"Email"}),Object(o.jsx)("option",{value:"password",children:"Password"}),Object(o.jsx)("option",{value:"hidden",children:"Hidden"}),Object(o.jsx)("option",{value:"color",children:"Color"}),Object(o.jsx)("option",{value:"paragraph",children:"Description Text"})]}),Object(o.jsx)("button",{className:"button primary",onClick:function(){return e=l,void n({type:"add new field",value:{id:"new_field_id_".concat(a.length),type:e,label:"New field"}});var e},children:"Add New Field"})]})]})}),Object(o.jsx)(u,{title:"Generate",customContent:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{children:"Once you are happy with your meta box, click the generate button below to get your code for free!"}),Object(o.jsx)("button",{className:"button primary",children:"Generate"})]})})]})]})};n(460);var F=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(r,{}),Object(o.jsx)(B,{})]})};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(v,{children:Object(o.jsx)(F,{})})}),document.getElementById("root")),l()}},[[461,152,153]]]);
//# sourceMappingURL=main.7111552f.chunk.js.map